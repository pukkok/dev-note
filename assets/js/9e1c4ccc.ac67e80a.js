"use strict";(self.webpackChunkdev_note=self.webpackChunkdev_note||[]).push([[1724],{7807:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"nodejs/vanilla-http-server/vanilla-http-server","title":"\ubc14\ub2d0\ub77c HTTP \uc11c\ubc84","description":"Node.js\uc758 http \ubaa8\ub4c8\uacfc fs \ubaa8\ub4c8\uc744 \uc0ac\uc6a9\ud558\uc5ec \ub77c\uc774\ube0c \uc11c\ubc84 \uc5c6\uc774 \uc815\uc801\uc778 HTML/CSS/JS \ud30c\uc77c\uc744 \uc9c1\uc811 \uc11c\ube59\ud558\ub294 \uc2e4\uc2b5\uc744 \uc9c4\ud589\ud588\ub2e4.","source":"@site/study/nodejs/vanilla-http-server/vanilla-http-server.md","sourceDirName":"nodejs/vanilla-http-server","slug":"/nodejs/vanilla-http-server/","permalink":"/dev-note/study/nodejs/vanilla-http-server/","draft":false,"unlisted":false,"editUrl":"https://github.com/pukkok/dev-note/edit/main/study/nodejs/vanilla-http-server/vanilla-http-server.md","tags":[],"version":"current","frontMatter":{"title":"\ubc14\ub2d0\ub77c HTTP \uc11c\ubc84"},"sidebar":"sidebar","previous":{"title":"live server \uc774\ud574","permalink":"/dev-note/study/nodejs/static_server_exec"},"next":{"title":"HTML \ud15c\ud50c\ub9bf \ub3d9\uc801 \uc0dd\uc131","permalink":"/dev-note/study/nodejs/vanilla-http-server/html-template-generator"}}');var s=r(4848),l=r(8453);const i={title:"\ubc14\ub2d0\ub77c HTTP \uc11c\ubc84"},o=void 0,d={},c=[{value:"\ud83c\udfaf \ubaa9\ud45c",id:"-\ubaa9\ud45c",level:2},{value:"\ud83e\uddf1 \uc804\uccb4 \ucf54\ub4dc (<code>server.js</code>)",id:"-\uc804\uccb4-\ucf54\ub4dc-serverjs",level:2},{value:"\ud83d\udccc \uc2e4\ud589 \ubc29\ubc95",id:"-\uc2e4\ud589-\ubc29\ubc95",level:2},{value:"\ud83d\udcac \ub290\ub080 \uc810",id:"-\ub290\ub080-\uc810",level:2}];function a(e){const n={code:"code",h2:"h2",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["Node.js\uc758 ",(0,s.jsx)(n.code,{children:"http"})," \ubaa8\ub4c8\uacfc ",(0,s.jsx)(n.code,{children:"fs"})," \ubaa8\ub4c8\uc744 \uc0ac\uc6a9\ud558\uc5ec \ub77c\uc774\ube0c \uc11c\ubc84 \uc5c6\uc774 \uc815\uc801\uc778 HTML/CSS/JS \ud30c\uc77c\uc744 \uc9c1\uc811 \uc11c\ube59\ud558\ub294 \uc2e4\uc2b5\uc744 \uc9c4\ud589\ud588\ub2e4.\n\uc774 \uc791\uc5c5\uc740 \ube0c\ub77c\uc6b0\uc800 \ud50c\ub7ec\uadf8\uc778 \uc5c6\uc774\ub3c4 \uc6f9 \ud398\uc774\uc9c0\ub97c \ub744\uc6b0\uae30 \uc704\ud55c \ud658\uacbd \uad6c\uc131\uc5d0 \ucd08\uc810\uc744 \ub9de\ucdc4\ub2e4."]}),"\n",(0,s.jsx)(n.h2,{id:"-\ubaa9\ud45c",children:"\ud83c\udfaf \ubaa9\ud45c"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Express \uc5c6\uc774 Node.js \uae30\ubcf8 \ubaa8\ub4c8\ub9cc\uc73c\ub85c HTTP \uc11c\ubc84 \uad6c\uc131"}),"\n",(0,s.jsx)(n.li,{children:"HTML, CSS, JS \ud30c\uc77c\uc744 Content-Type\uc5d0 \ub9de\uac8c \uc9c1\uc811 \uc11c\ube59"}),"\n",(0,s.jsx)(n.li,{children:"\uc11c\ubc84 \uc2e4\ud589 \uc2dc \ube0c\ub77c\uc6b0\uc800 \uc790\ub3d9 \uc5f4\uae30 (Windows \ud658\uacbd \uae30\uc900)"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h2,{id:"-\uc804\uccb4-\ucf54\ub4dc-serverjs",children:["\ud83e\uddf1 \uc804\uccb4 \ucf54\ub4dc (",(0,s.jsx)(n.code,{children:"server.js"}),")"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"const fs = require('fs')\nconst http = require('http')\nconst { exec } = require('child_process')\n\nconst fileReader = (res, url) => {\n  if (url === '/') {\n    fs.readFile('./public/index.html', (err, readFile) => {\n      if (err) return console.error('index.html \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328')\n      res.writeHead(200, { 'Content-Type': 'text/html' })\n      res.end(readFile)\n    })\n    return\n  }\n\n  const extender = url.split('.')[1]\n  const fileContentType = extractContentType(extender)\n  const path = '.' + url\n\n  fs.readFile(path, (err, readFile) => {\n    if (err) return console.error('\ud30c\uc77c \uc77d\uae30 \uc2e4\ud328 :', path)\n    res.writeHead(200, { 'Content-Type': fileContentType })\n    res.end(readFile)\n  })\n}\n\nfunction extractContentType(extender) {\n  switch (extender) {\n    case 'html': return 'text/html'\n    case 'css': return 'text/css'\n    case 'json': return 'application/json'\n    case 'js': return 'application/javascript'\n  }\n}\n\nconst server = http.createServer((req, res) => {\n  fileReader(res, req.url)\n})\n\nserver.listen(5000, () => {\n  console.log('\uc11c\ubc84\ub3d9\uc791 \uc2dc\uc791')\n\n  // \ube0c\ub77c\uc6b0\uc800 \uc790\ub3d9 \uc5f4\uae30 (Windows \uae30\uc900)\n  exec('start http://localhost:5000', (err) => {\n    if (err) {\n      console.log('\ube0c\ub77c\uc6b0\uc800 \uc5f4\uae30 \uc2e4\ud328:', err)\n    }\n  })\n})\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-\uc2e4\ud589-\ubc29\ubc95",children:"\ud83d\udccc \uc2e4\ud589 \ubc29\ubc95"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"node server.js\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\uc2e4\ud589\ud558\uba74 ",(0,s.jsx)(n.code,{children:"localhost:5000"}),"\uc5d0\uc11c \ube0c\ub77c\uc6b0\uc800\uac00 \uc790\ub3d9\uc73c\ub85c \uc5f4\ub9ac\uba70, ",(0,s.jsx)(n.code,{children:"/public/index.html"}),"\uc774 \ub85c\ub529\ub41c\ub2e4."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-\ub290\ub080-\uc810",children:"\ud83d\udcac \ub290\ub080 \uc810"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\ub77c\uc774\ube0c \uc11c\ubc84 \uc5c6\uc774 \uc9c1\uc811 \ube0c\ub77c\uc6b0\uc800\uc5d0 \ub744\uc6b0\ub294 \uacfc\uc815\uc744 \ud1b5\ud574 \uc815\uc801 \ud30c\uc77c \ucc98\ub9ac \ud750\ub984\uc744 \uc774\ud574\ud560 \uc218 \uc788\uc5c8\ub2e4."}),"\n",(0,s.jsx)(n.li,{children:"Content-Type \uc124\uc815\uc758 \uc911\uc694\uc131\uc744 \uc2e4\uac10\ud588\uace0, \ube0c\ub77c\uc6b0\uc800 \uc790\ub3d9 \uc2e4\ud589\ub3c4 \uc791\uc740 \ud130\uce58\uc9c0\ub9cc \ud3b8\ub9ac\ud568\uc744 \ub354\ud574\uc92c\ub2e4."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>o});var t=r(6540);const s={},l=t.createContext(s);function i(e){const n=t.useContext(l);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);