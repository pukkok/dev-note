"use strict";(self.webpackChunkdev_note=self.webpackChunkdev_note||[]).push([[7757],{5167:(e,n,d)=>{d.r(n),d.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"kinder-moumi/backend/kinder-API","title":"3. API","description":"kinder-moumi \ud504\ub85c\uc81d\ud2b8\uc5d0\uc11c\ub294 \uc0dd\uc131\ub41c \uc720\uce58\uc6d0 \ud648\ud398\uc774\uc9c0 URL\uc744 \uae30\uc900\uc73c\ub85c \uc2e4\uc81c \ud398\uc774\uc9c0\uc5d0 \uc811\uadfc\ud558\uac70\ub098, \ub370\uc774\ud130\ub97c \uc870\ud68c\ud558\ub294 API \ud750\ub984\uc774 \uc874\uc7ac\ud569\ub2c8\ub2e4.","source":"@site/project/kinder-moumi/backend/kinder-API.md","sourceDirName":"kinder-moumi/backend","slug":"/kinder-moumi/backend/kinder-API","permalink":"/dev-note/project/kinder-moumi/backend/kinder-API","draft":false,"unlisted":false,"editUrl":"https://github.com/pukkok/dev-note/edit/main/project/kinder-moumi/backend/kinder-API.md","tags":[],"version":"current","frontMatter":{"title":"3. API"},"sidebar":"sidebar","previous":{"title":"2. \ud30c\uc77c \uc5c5\ub85c\ub4dc","permalink":"/dev-note/project/kinder-moumi/backend/upload-customizing"},"next":{"title":"4. \uc2a4\ud0a4\ub9c8 \uc815\uc758","permalink":"/dev-note/project/kinder-moumi/backend/account-model"}}');var r=d(4848),l=d(8453);const s={title:"3. API"},o="\uc720\uce58\uc6d0 \ud648\ud398\uc774\uc9c0 API",c={},a=[{value:"\u2705 \uc8fc\uc694 \uc5ed\ud560",id:"-\uc8fc\uc694-\uc5ed\ud560",level:2},{value:"1. \uc720\uce58\uc6d0 URL \ub4f1\ub85d (<code>/platform/newpage</code>)",id:"1-\uc720\uce58\uc6d0-url-\ub4f1\ub85d-platformnewpage",level:2},{value:"2. \uac8c\uc2dc \uc0c1\ud0dc \uc804\ud658 (<code>/platform/startpage</code>)",id:"2-\uac8c\uc2dc-\uc0c1\ud0dc-\uc804\ud658-platformstartpage",level:2},{value:"3. \uc0ac\uc6a9\uc790 \uc811\uadfc \uc2dc API \ud750\ub984",id:"3-\uc0ac\uc6a9\uc790-\uc811\uadfc-\uc2dc-api-\ud750\ub984",level:2},{value:"(1) \uac8c\uc2dc \uc5ec\ubd80 \ud655\uc778 (<code>/user/openKinder/:kinderCode</code>)",id:"1-\uac8c\uc2dc-\uc5ec\ubd80-\ud655\uc778-useropenkinderkindercode",level:3},{value:"(2) \uc720\uce58\uc6d0 \ub370\uc774\ud130 \uc870\ud68c (<code>/user/kinderData/:url</code>)",id:"2-\uc720\uce58\uc6d0-\ub370\uc774\ud130-\uc870\ud68c-userkinderdataurl",level:3},{value:"4. \ucee4\uc2a4\ud130\ub9c8\uc774\uc9d5 \ub370\uc774\ud130 \ub2e4\uc6b4\ub85c\ub4dc API (<code>/kinder/download/...</code>)",id:"4-\ucee4\uc2a4\ud130\ub9c8\uc774\uc9d5-\ub370\uc774\ud130-\ub2e4\uc6b4\ub85c\ub4dc-api-kinderdownload",level:2},{value:"<code>/kinder/download/data</code>",id:"kinderdownloaddata",level:3},{value:"<code>/kinder/download/menu</code>",id:"kinderdownloadmenu",level:3},{value:"<code>/kinder/download/menu-table</code>",id:"kinderdownloadmenu-table",level:3},{value:"5. \uacf5\uacf5 \uc720\uce58\uc6d0 \uc815\ubcf4 \uc870\ud68c (<code>/api/kinder</code>)",id:"5-\uacf5\uacf5-\uc720\uce58\uc6d0-\uc815\ubcf4-\uc870\ud68c-apikinder",level:2},{value:"\uc815\ub9ac",id:"\uc815\ub9ac",level:2}];function t(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"\uc720\uce58\uc6d0-\ud648\ud398\uc774\uc9c0-api",children:"\uc720\uce58\uc6d0 \ud648\ud398\uc774\uc9c0 API"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"kinder-moumi"})," \ud504\ub85c\uc81d\ud2b8\uc5d0\uc11c\ub294 \uc0dd\uc131\ub41c \uc720\uce58\uc6d0 \ud648\ud398\uc774\uc9c0 URL\uc744 \uae30\uc900\uc73c\ub85c \uc2e4\uc81c \ud398\uc774\uc9c0\uc5d0 \uc811\uadfc\ud558\uac70\ub098, \ub370\uc774\ud130\ub97c \uc870\ud68c\ud558\ub294 API \ud750\ub984\uc774 \uc874\uc7ac\ud569\ub2c8\ub2e4. ",(0,r.jsx)("br",{}),"\n\uc774 \ud750\ub984\uc740 ",(0,r.jsx)(n.strong,{children:"\ud398\uc774\uc9c0 \uc0dd\uc131 \u2192 \uac8c\uc2dc \u2192 \uc678\ubd80 \uc811\uadfc \u2192 \ub370\uc774\ud130 \ub2e4\uc6b4\ub85c\ub4dc"}),"\uc758 \uad6c\uc870\ub85c \uad6c\uc131\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-\uc8fc\uc694-\uc5ed\ud560",children:"\u2705 \uc8fc\uc694 \uc5ed\ud560"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\uc720\uce58\uc6d0 \ucf54\ub4dc \uae30\ubc18 \ud648\ud398\uc774\uc9c0 URL \uc0dd\uc131 \ubc0f \uc800\uc7a5"}),"\n",(0,r.jsxs)(n.li,{children:["\uac8c\uc2dc \uc5ec\ubd80 \uad00\ub9ac (",(0,r.jsx)(n.code,{children:"openPage"}),")"]}),"\n",(0,r.jsx)(n.li,{children:"\uc720\uce58\uc6d0 \ud398\uc774\uc9c0 \ub370\uc774\ud130 \uc870\ud68c \ubc0f \uac80\uc99d"}),"\n",(0,r.jsx)(n.li,{children:"\ucee4\uc2a4\ud130\ub9c8\uc774\uc9d5 \ub370\uc774\ud130 \ub2e4\uc6b4\ub85c\ub4dc \uc81c\uacf5"}),"\n",(0,r.jsx)(n.li,{children:"\uacf5\uacf5 API \uc5f0\ub3d9\uc73c\ub85c \uc720\uce58\uc6d0 \ubaa9\ub85d \uac80\uc0c9 \uc9c0\uc6d0"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h2,{id:"1-\uc720\uce58\uc6d0-url-\ub4f1\ub85d-platformnewpage",children:["1. \uc720\uce58\uc6d0 URL \ub4f1\ub85d (",(0,r.jsx)(n.code,{children:"/platform/newpage"}),")"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const newKinder = new Kinder({\n  kinderCode: req.user.kinderCode,\n  originUrl: req.body.createdUrl,\n  data: {\n    logoPath: '', addBgList: [], containerSize: '1240', ...\n  }\n})\nawait newKinder.save()\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\uac19\uc740 ",(0,r.jsx)(n.code,{children:"kinderCode"}),"\ub098 ",(0,r.jsx)(n.code,{children:"originUrl"}),"\uc774 \uc774\ubbf8 \uc874\uc7ac\ud560 \uacbd\uc6b0 \ub4f1\ub85d \uc2e4\ud328"]}),"\n",(0,r.jsx)(n.li,{children:"URL\uc740 \ub098\uc911\uc5d0 \ud504\ub860\ud2b8\uc5d0\uc11c \ud648\ud398\uc774\uc9c0 \uc8fc\uc18c\ub85c \ud65c\uc6a9\ub428"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h2,{id:"2-\uac8c\uc2dc-\uc0c1\ud0dc-\uc804\ud658-platformstartpage",children:["2. \uac8c\uc2dc \uc0c1\ud0dc \uc804\ud658 (",(0,r.jsx)(n.code,{children:"/platform/startpage"}),")"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"kinder.openPage = true\nawait kinder.save()\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"openPage"}),"\uac00 ",(0,r.jsx)(n.code,{children:"true"}),"\uc77c \uacbd\uc6b0 \uc0ac\uc6a9\uc790 \uc811\uadfc \ud5c8\uc6a9"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"/user/openKinder/:kinderCode"}),"\ub97c \ud1b5\ud574 \uac8c\uc2dc \uc5ec\ubd80 \ud655\uc778 \uac00\ub2a5"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"3-\uc0ac\uc6a9\uc790-\uc811\uadfc-\uc2dc-api-\ud750\ub984",children:"3. \uc0ac\uc6a9\uc790 \uc811\uadfc \uc2dc API \ud750\ub984"}),"\n",(0,r.jsxs)(n.h3,{id:"1-\uac8c\uc2dc-\uc5ec\ubd80-\ud655\uc778-useropenkinderkindercode",children:["(1) \uac8c\uc2dc \uc5ec\ubd80 \ud655\uc778 (",(0,r.jsx)(n.code,{children:"/user/openKinder/:kinderCode"}),")"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"Kinder.findOne({ kinderCode, openPage: true })\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"openPage: false"}),"\uba74 404 \ubc18\ud658"]}),"\n",(0,r.jsx)(n.li,{children:"\uac8c\uc2dc\ub41c \uacbd\uc6b0 originUrl \uc804\ub2ec"}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"2-\uc720\uce58\uc6d0-\ub370\uc774\ud130-\uc870\ud68c-userkinderdataurl",children:["(2) \uc720\uce58\uc6d0 \ub370\uc774\ud130 \uc870\ud68c (",(0,r.jsx)(n.code,{children:"/user/kinderData/:url"}),")"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"Kinder.findOne({ originUrl: req.params.url })\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\uac8c\uc2dc \uc5ec\ubd80 \ud655\uc778 \ud6c4 ",(0,r.jsx)(n.code,{children:"kinder.data"})," \ubc18\ud658"]}),"\n",(0,r.jsx)(n.li,{children:"\uac8c\uc2dc\ub418\uc9c0 \uc54a\uc558\ub2e4\uba74 400 \ub610\ub294 404 \uc751\ub2f5"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h2,{id:"4-\ucee4\uc2a4\ud130\ub9c8\uc774\uc9d5-\ub370\uc774\ud130-\ub2e4\uc6b4\ub85c\ub4dc-api-kinderdownload",children:["4. \ucee4\uc2a4\ud130\ub9c8\uc774\uc9d5 \ub370\uc774\ud130 \ub2e4\uc6b4\ub85c\ub4dc API (",(0,r.jsx)(n.code,{children:"/kinder/download/..."}),")"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\uad00\ub9ac\uc790 \ub85c\uadf8\uc778 \uc0c1\ud0dc\uc5d0\uc11c \uc0ac\uc6a9\ub428"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"kinderdownloaddata",children:(0,r.jsx)(n.code,{children:"/kinder/download/data"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\ucee4\uc2a4\ud130\ub9c8\uc774\uc9d5 \uc804\uccb4 \ub370\uc774\ud130 (",(0,r.jsx)(n.code,{children:"kinder.data"}),") \ubc18\ud658"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"kinderdownloadmenu",children:(0,r.jsx)(n.code,{children:"/kinder/download/menu"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\uba54\ub274 \uc635\uc158 \uc124\uc815 \ub370\uc774\ud130 (",(0,r.jsx)(n.code,{children:"Menu"}),") \ubc18\ud658"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"kinderdownloadmenu-table",children:(0,r.jsx)(n.code,{children:"/kinder/download/menu-table"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\uc6d4\ubcc4 \uc2dd\ub2e8\ud45c (",(0,r.jsx)(n.code,{children:"MonthMenuTable"}),") \ubc18\ud658"]}),"\n",(0,r.jsxs)(n.li,{children:["\uc694\uccad \uc2dc ",(0,r.jsx)(n.code,{children:"selectMonth"})," \ud544\uc694"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h2,{id:"5-\uacf5\uacf5-\uc720\uce58\uc6d0-\uc815\ubcf4-\uc870\ud68c-apikinder",children:["5. \uacf5\uacf5 \uc720\uce58\uc6d0 \uc815\ubcf4 \uc870\ud68c (",(0,r.jsx)(n.code,{children:"/api/kinder"}),")"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"GET /api/kinder?sidoCode=XX&sggCode=YY\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\uad50\uc721\uccad open API\ub97c \ud638\ucd9c\ud558\uc5ec \ud574\ub2f9 \uc9c0\uc5ed \uc720\uce58\uc6d0 \ubaa9\ub85d \uc870\ud68c"}),"\n",(0,r.jsx)(n.li,{children:"\uc2e4\ud328 \uc2dc 404 \ubc18\ud658"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\uc815\ub9ac",children:"\uc815\ub9ac"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\uc720\uce58\uc6d0 \ud648\ud398\uc774\uc9c0\ub294 ",(0,r.jsx)(n.code,{children:"originUrl"})," \uae30\ubc18\uc73c\ub85c \uc0dd\uc131 \ubc0f \uc811\uadfc\ub428"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"openPage"}),"\uac00 true\uc77c \ub54c\ub9cc \uc678\ubd80 \uc811\uadfc \uac00\ub2a5"]}),"\n",(0,r.jsx)(n.li,{children:"\uad00\ub9ac\uc790\uc640 \uc0ac\uc6a9\uc790 \uc694\uccad\uc744 \ubd84\ub9ac\ud558\uc5ec \ubcf4\uc548\uc131\uacfc \uae30\ub2a5\uc131\uc744 \ubaa8\ub450 \ud655\ubcf4\ud568"}),"\n",(0,r.jsx)(n.li,{children:"\uacf5\uacf5 API \uc5f0\ub3d9\uc73c\ub85c \uc720\uce58\uc6d0 \ubaa9\ub85d \uc790\ub3d9\ud654 \uac80\uc0c9 \uc9c0\uc6d0"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\uc774 \ud750\ub984\uc744 \ud1b5\ud574 ",(0,r.jsx)(n.strong,{children:"\uc0ac\uc6a9\uc790 \uce5c\ud654\uc801\uc774\uba70 \ubcf4\uc548\uc774 \uace0\ub824\ub41c \uc720\uce58\uc6d0 \ud648\ud398\uc774\uc9c0 \uc0dd\uc131 \ubc0f \uc811\uadfc \uad6c\uc870"}),"\ub97c \uad6c\ud604\ud558\uc600\uc2b5\ub2c8\ub2e4."]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}},8453:(e,n,d)=>{d.d(n,{R:()=>s,x:()=>o});var i=d(6540);const r={},l=i.createContext(r);function s(e){const n=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);