"use strict";(self.webpackChunkdev_note=self.webpackChunkdev_note||[]).push([[3271],{3043:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"nodejs/static_server_exec","title":"live server \uc774\ud574","description":"\uc774 \ubb38\uc11c\ub294 \ub77c\uc774\ube0c \uc11c\ubc84 \uc5c6\uc774 Node.js\ub85c HTML \ud30c\uc77c\uc744 \uc9c1\uc811 \uc0dd\uc131\ud558\uace0 \uc11c\ubc84\ub85c \uc2e4\ud589\ud558\uba70 \ube0c\ub77c\uc6b0\uc800\ub97c \uc790\ub3d9\uc73c\ub85c \uc5ec\ub294 \uacfc\uc815\uc744 \uc815\ub9ac\ud55c \uc2e4\uc2b5 \uae30\ubc18 \ubb38\uc11c\uc785\ub2c8\ub2e4.","source":"@site/study/nodejs/static_server_exec.md","sourceDirName":"nodejs","slug":"/nodejs/static_server_exec","permalink":"/dev-note/study/nodejs/static_server_exec","draft":false,"unlisted":false,"editUrl":"https://github.com/pukkok/dev-note/edit/main/study/nodejs/static_server_exec.md","tags":[],"version":"current","frontMatter":{"title":"live server \uc774\ud574"},"sidebar":"sidebar","previous":{"title":"html \ud15c\ud50c\ub9bf \uc81c\uc791","permalink":"/dev-note/study/nodejs/html_template_basic"},"next":{"title":"\uc11c\ubc84 \ud15c\ud50c\ub9bf \uc774\ud574(1)","permalink":"/dev-note/study/nodejs/handlebars/first"}}');var t=r(4848),l=r(8453);const i={title:"live server \uc774\ud574"},c="Node.js\ub85c \uac04\ub2e8\ud55c Static Server \ub9cc\ub4e4\uae30 (exec \ud3ec\ud568)",d={},o=[{value:"1. \ubaa9\ud45c \uc815\ub9ac",id:"1-\ubaa9\ud45c-\uc815\ub9ac",level:3},{value:"2. \ud15c\ud50c\ub9bf \uc0dd\uc131 \ud568\uc218 (<code>Template</code>)",id:"2-\ud15c\ud50c\ub9bf-\uc0dd\uc131-\ud568\uc218-template",level:3},{value:"3. HTML \ud30c\uc77c \uc4f0\uae30",id:"3-html-\ud30c\uc77c-\uc4f0\uae30",level:3},{value:"4. HTTP \uc11c\ubc84 \uc0dd\uc131 \ubc0f \ud30c\uc77c \uc751\ub2f5 \ud568\uc218",id:"4-http-\uc11c\ubc84-\uc0dd\uc131-\ubc0f-\ud30c\uc77c-\uc751\ub2f5-\ud568\uc218",level:3},{value:"5. \uc11c\ubc84 \uad6c\ub3d9 \ubc0f \ube0c\ub77c\uc6b0\uc800 \uc790\ub3d9 \uc5f4\uae30",id:"5-\uc11c\ubc84-\uad6c\ub3d9-\ubc0f-\ube0c\ub77c\uc6b0\uc800-\uc790\ub3d9-\uc5f4\uae30",level:3},{value:"6. \uad00\ub828 \uc815\uc801 \ud30c\uc77c \uad6c\uc870 (\uc608\uc2dc)",id:"6-\uad00\ub828-\uc815\uc801-\ud30c\uc77c-\uad6c\uc870-\uc608\uc2dc",level:3},{value:"\u2705 <code>public/index.html</code>",id:"-publicindexhtml",level:4},{value:"\u2705 <code>public/app.js</code>",id:"-publicappjs",level:4},{value:"\u2705 <code>public/style.css</code>",id:"-publicstylecss",level:4},{value:"\u2705 <code>public/user.json</code>",id:"-publicuserjson",level:4},{value:"7. \ud575\uc2ec \uac1c\ub150 \uc694\uc57d",id:"7-\ud575\uc2ec-\uac1c\ub150-\uc694\uc57d",level:3}];function a(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"nodejs\ub85c-\uac04\ub2e8\ud55c-static-server-\ub9cc\ub4e4\uae30-exec-\ud3ec\ud568",children:"Node.js\ub85c \uac04\ub2e8\ud55c Static Server \ub9cc\ub4e4\uae30 (exec \ud3ec\ud568)"})}),"\n",(0,t.jsx)(n.p,{children:"\uc774 \ubb38\uc11c\ub294 \ub77c\uc774\ube0c \uc11c\ubc84 \uc5c6\uc774 Node.js\ub85c HTML \ud30c\uc77c\uc744 \uc9c1\uc811 \uc0dd\uc131\ud558\uace0 \uc11c\ubc84\ub85c \uc2e4\ud589\ud558\uba70 \ube0c\ub77c\uc6b0\uc800\ub97c \uc790\ub3d9\uc73c\ub85c \uc5ec\ub294 \uacfc\uc815\uc744 \uc815\ub9ac\ud55c \uc2e4\uc2b5 \uae30\ubc18 \ubb38\uc11c\uc785\ub2c8\ub2e4."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"1-\ubaa9\ud45c-\uc815\ub9ac",children:"1. \ubaa9\ud45c \uc815\ub9ac"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"HTML \ubb38\uc11c\ub97c \ub3d9\uc801\uc73c\ub85c \uc0dd\uc131\ud55c\ub2e4."}),"\n",(0,t.jsxs)(n.li,{children:["Node.js\uc758 ",(0,t.jsx)(n.code,{children:"http"})," \ubaa8\ub4c8\ub85c \uc11c\ubc84\ub97c \uad6c\uc131\ud55c\ub2e4."]}),"\n",(0,t.jsx)(n.li,{children:"\uc694\uccad(request)\uc5d0 \ub530\ub77c \uc751\ub2f5(response)\uc744 \ucc98\ub9ac\ud55c\ub2e4."}),"\n",(0,t.jsxs)(n.li,{children:["Express \uc5c6\uc774 \uad6c\uc131\ud558\uba70, ",(0,t.jsx)(n.code,{children:"child_process.exec"}),"\uc73c\ub85c \uc11c\ubc84 \uc2e4\ud589 \uc2dc \ube0c\ub77c\uc6b0\uc800\ub97c \uc790\ub3d9\uc73c\ub85c \uc5f0\ub2e4."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.h3,{id:"2-\ud15c\ud50c\ub9bf-\uc0dd\uc131-\ud568\uc218-template",children:["2. \ud15c\ud50c\ub9bf \uc0dd\uc131 \ud568\uc218 (",(0,t.jsx)(n.code,{children:"Template"}),")"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'const Template = (title = \'document\') => {\r\n  const addStyle = `<link rel="stylesheet" href="./public/style.css">`\r\n  const addScript = `<script type="module" src="./public/app.js"><\/script>`\r\n\r\n  const head = `\r\n  <head>\r\n    <meta charset="UTF-8">\r\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\r\n    <title>${title}</title>\r\n    ${addStyle}\r\n  </head>`\r\n\r\n  const body = `\r\n  <body>\r\n    <div id="root">html \uc2e4\ud589 \ud655\uc778</div>\r\n    ${addScript}\r\n  </body>`\r\n\r\n  return `<!DOCTYPE html>\r\n<html lang="ko">\r\n${head}\r\n${body}\r\n</html>`\r\n}\n'})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"title\uc744 \ubc1b\uc544 \ub3d9\uc801\uc73c\ub85c HTML \ubb38\uc11c\ub97c \uc0dd\uc131\ud568"}),"\n",(0,t.jsx)(n.li,{children:'id="root" \uc601\uc5ed\uc5d0 React-like \ub80c\ub354\ub9c1 \uc608\uc815 \ucf58\ud150\uce20\ub97c \uad6c\uc131\ud568'}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"3-html-\ud30c\uc77c-\uc4f0\uae30",children:"3. HTML \ud30c\uc77c \uc4f0\uae30"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"fs.writeFile('public/index.html', Template('Wait React'), 'utf-8', (err) => {\r\n  if (err) console.log(err)\r\n})\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"4-http-\uc11c\ubc84-\uc0dd\uc131-\ubc0f-\ud30c\uc77c-\uc751\ub2f5-\ud568\uc218",children:"4. HTTP \uc11c\ubc84 \uc0dd\uc131 \ubc0f \ud30c\uc77c \uc751\ub2f5 \ud568\uc218"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const fileReader = (res, url) => {\r\n  if (url === '/') {\r\n    fs.readFile('./public/index.html', (err, data) => {\r\n      if (err) return console.error('index.html \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328')\r\n      res.writeHead(200, { 'Content-Type': 'text/html' })\r\n      res.end(data)\r\n    })\r\n    return\r\n  }\r\n\r\n  const ext = url.split('.')[1]\r\n  const contentType = extractContentType(ext)\r\n  const filePath = '.' + url\r\n\r\n  fs.readFile(filePath, (err, data) => {\r\n    if (err) return console.error('\ud30c\uc77c \uc77d\uae30 \uc2e4\ud328')\r\n    res.writeHead(200, { 'Content-Type': contentType })\r\n    res.end(data)\r\n  })\r\n}\r\n\r\nconst extractContentType = (ext) => {\r\n  switch (ext) {\r\n    case 'html': return 'text/html'\r\n    case 'css': return 'text/css'\r\n    case 'js': return 'application/javascript'\r\n    case 'json': return 'application/json'\r\n  }\r\n}\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"5-\uc11c\ubc84-\uad6c\ub3d9-\ubc0f-\ube0c\ub77c\uc6b0\uc800-\uc790\ub3d9-\uc5f4\uae30",children:"5. \uc11c\ubc84 \uad6c\ub3d9 \ubc0f \ube0c\ub77c\uc6b0\uc800 \uc790\ub3d9 \uc5f4\uae30"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const server = http.createServer((req, res) => {\r\n  fileReader(res, req.url)\r\n})\r\n\r\nserver.listen(5000, () => {\r\n  console.log('\uc11c\ubc84\ub3d9\uc791 \uc2dc\uc791')\r\n  exec('start http://localhost:5000', (err) => {\r\n    if (err) console.log('\ube0c\ub77c\uc6b0\uc800 \uc5f4\uae30 \uc2e4\ud328:', err)\r\n  })\r\n})\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\uc11c\ubc84 \uc2e4\ud589 \ud6c4 \uc790\ub3d9\uc73c\ub85c \ube0c\ub77c\uc6b0\uc800\uac00 \uc5f4\ub9ac\ub3c4\ub85d \uc124\uc815 (Windows \ud658\uacbd: ",(0,t.jsx)(n.code,{children:"start"})," \uc0ac\uc6a9)"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"6-\uad00\ub828-\uc815\uc801-\ud30c\uc77c-\uad6c\uc870-\uc608\uc2dc",children:"6. \uad00\ub828 \uc815\uc801 \ud30c\uc77c \uad6c\uc870 (\uc608\uc2dc)"}),"\n",(0,t.jsxs)(n.h4,{id:"-publicindexhtml",children:["\u2705 ",(0,t.jsx)(n.code,{children:"public/index.html"})]}),"\n",(0,t.jsxs)(n.p,{children:["HTML \ud15c\ud50c\ub9bf \uacb0\uacfc\ub85c \uc0dd\uc131\ub428. ",(0,t.jsx)(n.code,{children:'<div id="root">html \uc2e4\ud589 \ud655\uc778</div>'})," \ud3ec\ud568"]}),"\n",(0,t.jsxs)(n.h4,{id:"-publicappjs",children:["\u2705 ",(0,t.jsx)(n.code,{children:"public/app.js"})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"user.json"}),"\uc5d0\uc11c \ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc640 \uce74\ub4dc UI\ub85c \uad6c\uc131\ud558\ub294 \ucf54\ub4dc"]}),"\n",(0,t.jsxs)(n.h4,{id:"-publicstylecss",children:["\u2705 ",(0,t.jsx)(n.code,{children:"public/style.css"})]}),"\n",(0,t.jsx)(n.p,{children:"\ubc30\uacbd\uc0c9, \uce74\ub4dc \uc2a4\ud0c0\uc77c \ub4f1 \uc2dc\uac01 \uad6c\uc131 \ub2f4\ub2f9"}),"\n",(0,t.jsxs)(n.h4,{id:"-publicuserjson",children:["\u2705 ",(0,t.jsx)(n.code,{children:"public/user.json"})]}),"\n",(0,t.jsx)(n.p,{children:"\ud559\uc0dd \ub370\uc774\ud130 \ubc30\uc5f4\uc774 \ub4e4\uc5b4\uc788\ub294 JSON \ud30c\uc77c\ub85c, JS\uc5d0\uc11c import\ud568"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"7-\ud575\uc2ec-\uac1c\ub150-\uc694\uc57d",children:"7. \ud575\uc2ec \uac1c\ub150 \uc694\uc57d"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\ub77c\uc774\ube0c \uc11c\ubc84 \uc5c6\uc774 HTML \u2192 Node.js \u2192 \ube0c\ub77c\uc6b0\uc800\uc758 \ud750\ub984\uc744 \uba85\ud655\ud788 \uc774\ud574\ud560 \uc218 \uc788\uc74c"}),"\n",(0,t.jsx)(n.li,{children:"\uc815\uc801 \ud30c\uc77c \uc694\uccad\uc744 \uc9c1\uc811 \ucc98\ub9ac\ud558\uba70 Content-Type\uc744 \uc218\ub3d9\uc73c\ub85c \ub9e4\ud551\ud568"}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"import"}),"\ub294 ",(0,t.jsx)(n.strong,{children:"\ubaa8\ub4c8/\uc11c\ubc84 \ud658\uacbd"}),"\uc5d0\uc11c\ub9cc \ub3d9\uc791\ud558\uae30 \ub54c\ubb38\uc5d0 \ud30c\uc77c \uc2dc\uc2a4\ud15c\uc774 \uc544\ub2cc HTTP\ub97c \ud1b5\ud574 \uc694\uccad\ud574\uc57c \uc815\uc0c1 \uc791\ub3d9\ud568"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"\ud83d\udccc \uc774 \uacfc\uc815\uc744 \ud1b5\ud574 \uc2e4\uc81c \ube0c\ub77c\uc6b0\uc800\uc640\uc758 \ud1b5\uc2e0 \ud750\ub984, \uc11c\ubc84 \uc5ed\ud560, \uc815\uc801 \uc790\uc6d0\uc758 \uc694\uccad-\uc751\ub2f5 \ubc29\uc2dd\uc744 \uccb4\uac10\ud560 \uc218 \uc788\ub2e4.\r\n\ub2e8\uc21c\ud55c \ub77c\uc774\ube0c \uc11c\ubc84 \uc758\uc874\uc5d0\uc11c \ubc97\uc5b4\ub098 \ubc31\uc5d4\ub4dc\uc758 \uae30\ubcf8 \uad6c\uc870\ub97c \uc9c1\uc811 \uccb4\ud5d8\ud558\ub294 \ub370 \ubaa9\uc801\uc774 \uc788\ub2e4."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>c});var s=r(6540);const t={},l=s.createContext(t);function i(e){const n=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);