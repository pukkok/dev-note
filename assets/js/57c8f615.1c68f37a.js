"use strict";(self.webpackChunkdev_note=self.webpackChunkdev_note||[]).push([[1524],{5653:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>j,frontMatter:()=>c,metadata:()=>s,toc:()=>t});const s=JSON.parse('{"id":"cron-job","title":"\uacf5\ud734\uc77c \uc790\ub3d9 \uc218\uc9d1(cron)","description":"\uacf5\uacf5\ub370\uc774\ud130 \ud3ec\ud138\uc5d0\uc11c \uc81c\uacf5\ud558\ub294 \uacf5\ud734\uc77c API\ub97c \ud65c\uc6a9\ud574 \uc5f0\ub3c4\ubcc4 \uacf5\ud734\uc77c \uc815\ubcf4\ub97c \uac00\uc838\uc640","source":"@site/project/cron-job.md","sourceDirName":".","slug":"/cron-job","permalink":"/dev-note/project/cron-job","draft":false,"unlisted":false,"editUrl":"https://github.com/pukkok/dev-note/edit/main/project/cron-job.md","tags":[],"version":"current","frontMatter":{"title":"\uacf5\ud734\uc77c \uc790\ub3d9 \uc218\uc9d1(cron)"},"sidebar":"sidebar","previous":{"title":"\uc544\uc774\ucf58 \uad00\ub9ac \ubc0f \uc790\ub3d9 \uc778\ub371\uc2f1","permalink":"/dev-note/project/pk-icons/icon-management-indexing"},"next":{"title":"\ud504\ub85c\uc81d\ud2b8 \uac1c\uc694","permalink":"/dev-note/project/younglim-renewal/intro"}}');var l=r(4848),i=r(8453);const c={title:"\uacf5\ud734\uc77c \uc790\ub3d9 \uc218\uc9d1(cron)"},o="\uacf5\ud734\uc77c \uc790\ub3d9 \uc218\uc9d1 API",d={},t=[{value:"\uc8fc\uc694 \uae30\ub2a5",id:"\uc8fc\uc694-\uae30\ub2a5",level:2},{value:"\uc790\ub3d9\ud654 \uad6c\uc131",id:"\uc790\ub3d9\ud654-\uad6c\uc131",level:2},{value:"\uae30\uc220 \uc2a4\ud0dd",id:"\uae30\uc220-\uc2a4\ud0dd",level:2},{value:"\ucf54\ub4dc \uc124\uacc4 \uc694\uc57d",id:"\ucf54\ub4dc-\uc124\uacc4-\uc694\uc57d",level:2},{value:"\ud559\uc2b5 \ud3ec\uc778\ud2b8",id:"\ud559\uc2b5-\ud3ec\uc778\ud2b8",level:2}];function h(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"\uacf5\ud734\uc77c-\uc790\ub3d9-\uc218\uc9d1-api",children:"\uacf5\ud734\uc77c \uc790\ub3d9 \uc218\uc9d1 API"})}),"\n",(0,l.jsxs)(n.p,{children:["\uacf5\uacf5\ub370\uc774\ud130 \ud3ec\ud138\uc5d0\uc11c \uc81c\uacf5\ud558\ub294 ",(0,l.jsx)(n.strong,{children:"\uacf5\ud734\uc77c API"}),"\ub97c \ud65c\uc6a9\ud574 \uc5f0\ub3c4\ubcc4 \uacf5\ud734\uc77c \uc815\ubcf4\ub97c \uac00\uc838\uc640 ",(0,l.jsx)("br",{}),"\r\n",(0,l.jsx)(n.strong,{children:"MongoDB\uc5d0 \uc790\ub3d9 \uc800\uc7a5"}),"\ud558\uace0, \ud544\uc694 \uc2dc \uc5b8\uc81c\ub4e0\uc9c0 \uc870\ud68c\ud560 \uc218 \uc788\ub3c4\ub85d \ub9cc\ub4e0 ",(0,l.jsx)(n.strong,{children:"\ubc31\uc5d4\ub4dc \uc911\uc2ec \uc11c\ube44\uc2a4"}),"\uc785\ub2c8\ub2e4."]}),"\n",(0,l.jsxs)(n.p,{children:["\uc774 \ud504\ub85c\uc81d\ud2b8\ub294 Vercel\uc758 ",(0,l.jsx)("span",{style:{color:"#e67e22"},children:(0,l.jsx)("strong",{children:"cron \uc791\uc5c5"})}),", \uadf8\ub9ac\uace0\r\n",(0,l.jsx)("span",{style:{color:"#e67e22"},children:(0,l.jsx)("strong",{children:"Express + Mongoose \uae30\ubc18 \uad6c\uc870 \uc124\uacc4"})}),"\ub97c \uc2e4\uc2b5\ud558\uae30 \uc704\ud574 \uc81c\uc791\ub418\uc5c8\uc2b5\ub2c8\ub2e4."]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"\uc8fc\uc694-\uae30\ub2a5",children:"\uc8fc\uc694 \uae30\ub2a5"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"GET /holiday-update"})," : \uc5f0\ub3c4\ubcc4 \uacf5\ud734\uc77c \uc815\ubcf4 \uc800\uc7a5 \ub610\ub294 \uc5c5\ub370\uc774\ud2b8"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"GET /holiday-list"})," : DB\uc5d0 \uc800\uc7a5\ub41c \uc5f0\ub3c4\ubcc4 \uacf5\ud734\uc77c \uc815\ubcf4 \uc870\ud68c"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"GET /holiday-list?year=2024"})," \ub4f1 \ucffc\ub9ac \ud30c\ub77c\ubbf8\ud130\ub85c \ud2b9\uc815 \uc5f0\ub3c4 \uc694\uccad \uac00\ub2a5"]}),"\n",(0,l.jsxs)(n.li,{children:["MongoDB Atlas \uc5f0\ub3d9 \ubc0f \uc5f0\ub3c4 \ub2e8\uc704\ub85c \uc911\ubcf5 \uc5c6\uc774 \uc800\uc7a5 (",(0,l.jsx)(n.code,{children:"unique"})," \ud544\ub4dc \uc0ac\uc6a9)"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"\uc790\ub3d9\ud654-\uad6c\uc131",children:"\uc790\ub3d9\ud654 \uad6c\uc131"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",metastring:'title="vercel.json"',children:'"crons": [\r\n  {\r\n    "path": "/holiday-update",\r\n    "schedule": "54 15 * * *"\r\n  }\r\n]\n'})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["**\ub9e4\uc77c \uc624\ud6c4 3\uc2dc 54\ubd84(KST)**\uc5d0 ",(0,l.jsx)(n.code,{children:"/holiday-update"}),"\uac00 \uc790\ub3d9 \ud638\ucd9c\ub428"]}),"\n",(0,l.jsx)(n.li,{children:"Vercel Serverless \ud658\uacbd\uc5d0\uc11c \uc2e4\ud589\ub418\uc5b4 \ubcc4\ub3c4 \uc11c\ubc84 \uc5c6\uc774 \ub3d9\uc791"}),"\n",(0,l.jsxs)(n.li,{children:["\uc791\uc5c5 \uacb0\uacfc\ub294 Vercel Functions \ub85c\uadf8 \ub610\ub294 ",(0,l.jsx)(n.code,{children:"/holiday-list"})," \uc751\ub2f5\uc73c\ub85c \ud655\uc778 \uac00\ub2a5"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"\uae30\uc220-\uc2a4\ud0dd",children:"\uae30\uc220 \uc2a4\ud0dd"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Node.js + Express"}),"\n",(0,l.jsx)(n.li,{children:"MongoDB (with Mongoose ODM)"}),"\n",(0,l.jsxs)(n.li,{children:["Public API \uc5f0\ub3d9 (",(0,l.jsx)(n.code,{children:"/getRestDeInfo"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:["Vercel Serverless Functions (",(0,l.jsx)(n.code,{children:"api/"})," \uacbd\ub85c)"]}),"\n",(0,l.jsxs)(n.li,{children:["Cron \uc790\ub3d9\ud654 (via ",(0,l.jsx)(n.code,{children:"vercel.json"}),")"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"\ucf54\ub4dc-\uc124\uacc4-\uc694\uc57d",children:"\ucf54\ub4dc \uc124\uacc4 \uc694\uc57d"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"getApiUrl(year)"})," \uc720\ud2f8\uc744 \ud1b5\ud574 \uc5f0\ub3c4\ubcc4 API URL \uc0dd\uc131"]}),"\n",(0,l.jsxs)(n.li,{children:["API \uc751\ub2f5\uc744 \uac00\uacf5\ud558\uc5ec DB \uc2a4\ud0a4\ub9c8\uc5d0 \ub9de\uac8c \uc800\uc7a5 (",(0,l.jsx)(n.code,{children:"Holiday"})," \ubaa8\ub378)"]}),"\n",(0,l.jsxs)(n.li,{children:["\uc5f0\ub3c4 \ub2e8\uc704 \uc911\ubcf5 \ubc29\uc9c0 \u2192 ",(0,l.jsx)(n.code,{children:"base_year"})," \ud544\ub4dc\uc5d0 ",(0,l.jsx)(n.code,{children:"unique: true"})]}),"\n",(0,l.jsx)(n.li,{children:"\uc624\ub958 \ubc1c\uc0dd \uc2dc 4xx/5xx \ucf54\ub4dc\ub85c \ubd84\uae30 \ucc98\ub9ac \ubc0f \ub85c\uae45"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"\ud559\uc2b5-\ud3ec\uc778\ud2b8",children:"\ud559\uc2b5 \ud3ec\uc778\ud2b8"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\uc11c\ubc84\ub9ac\uc2a4 \ud658\uacbd\uc5d0\uc11c \uc8fc\uae30\uc801\uc778 \ub370\uc774\ud130 \uc218\uc9d1\uc774 \uc5b4\ub5bb\uac8c \uc774\ub8e8\uc5b4\uc9c0\ub294\uc9c0"})," \uccb4\uac10"]}),"\n",(0,l.jsx)(n.li,{children:"\uc678\ubd80 API \u2192 \ub370\uc774\ud130 \uc815\uc81c \u2192 MongoDB \uc800\uc7a5\uae4c\uc9c0\uc758 \ud750\ub984\uc744 \uc9c1\uc811 \uc124\uacc4"}),"\n",(0,l.jsx)(n.li,{children:"\ud504\ub860\ud2b8\uc5d4\ub4dc \uc5c6\uc774\ub3c4 \uc720\uc6a9\ud55c \ub370\uc774\ud130\ub97c \uad6c\uc870\ud654\ud574 \uc11c\ube44\uc2a4\ud560 \uc218 \uc788\ub2e4\ub294 \uacbd\ud5d8 \ud655\ubcf4"}),"\n"]}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsxs)(n.p,{children:["\uc774 \ud504\ub85c\uc81d\ud2b8\ub294 \ub2e8\uc21c\ud55c \uc2e4\uc2b5\uc744 \ub118\uc5b4, \uc2e4\uc81c\ub85c \ub3cc\uc544\uac00\ub294 \uc790\ub3d9\ud654 \ubc31\uc5d4\ub4dc \uad6c\uc870\ub97c \ucc98\uc74c\uc73c\ub85c \ub9cc\ub4e4\uc5c8\ub2e4\ub294 \uc810\uc5d0\uc11c \uc758\ubbf8\uac00 \ucef8\uc2b5\ub2c8\ub2e4.\r\n\uc9c0\uae08\uae4c\uc9c0\ub294 \uc9c1\uc811 \ud638\ucd9c\ud574\uc57c \ud558\ub358 API \uc694\uccad\uc744 cron\uc73c\ub85c \uc804\ud658\ud568\uc73c\ub85c\uc368,\r\n",(0,l.jsx)(n.strong,{children:"CI/CD\uc640 \uc790\ub3d9\ud654\uc758 \uac1c\ub150\uc744 \ubc31\uc5d4\ub4dc \uad6c\uc131\uacfc \ud568\uaed8 \uccb4\ud5d8\ud560 \uc218 \uc788\uc5c8\uc2b5\ub2c8\ub2e4."})]}),"\n"]})]})}function j(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(h,{...e})}):h(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>c,x:()=>o});var s=r(6540);const l={},i=s.createContext(l);function c(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:c(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);