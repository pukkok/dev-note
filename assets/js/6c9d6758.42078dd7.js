"use strict";(self.webpackChunkdev_note=self.webpackChunkdev_note||[]).push([[4279],{3724:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>c,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"scroll-space/clip-path-event","title":"Clip-path with Scroll","description":"\uc2a4\ud06c\ub864 \uc704\uce58\uc5d0 \ub530\ub77c \uc694\uc18c\uc758 clip-path\ub97c \ubcc0\uacbd\ud574 \uc6d0\ud615 \ub9c8\uc2a4\ud06c\uac00 \ucee4\uc9c0\uac70\ub098 \uc791\uc544\uc9c0\ub294 \ud6a8\uacfc\ub97c \uad6c\ud604\ud55c \uc139\uc158\uc785\ub2c8\ub2e4.","source":"@site/project/scroll-space/clip-path-event.md","sourceDirName":"scroll-space","slug":"/scroll-space/clip-path-event","permalink":"/dev-note/project/scroll-space/clip-path-event","draft":false,"unlisted":false,"editUrl":"https://github.com/pukkok/dev-note/edit/main/project/scroll-space/clip-path-event.md","tags":[],"version":"current","frontMatter":{"title":"Clip-path with Scroll"},"sidebar":"sidebar","previous":{"title":"\uc2dc\uc791\ud558\uae30","permalink":"/dev-note/project/scroll-space/intro"},"next":{"title":"Framer Motion Text","permalink":"/dev-note/project/scroll-space/framer-motion"}}');var s=r(4848),i=r(8453);const c={title:"Clip-path with Scroll"},o="\ud074\ub9bd\ud328\uc2a4 + \uc2a4\ud06c\ub864 \uc774\ubca4\ud2b8",l={},a=[{value:"\uad6c\ud604 \ubaa9\uc801",id:"\uad6c\ud604-\ubaa9\uc801",level:2},{value:"\uc8fc\uc694 \uad6c\uc131 \uc694\uc18c",id:"\uc8fc\uc694-\uad6c\uc131-\uc694\uc18c",level:2},{value:"\uc804\uccb4 \ucf54\ub4dc",id:"\uc804\uccb4-\ucf54\ub4dc",level:2}];function d(e){const n={br:"br",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"\ud074\ub9bd\ud328\uc2a4--\uc2a4\ud06c\ub864-\uc774\ubca4\ud2b8",children:"\ud074\ub9bd\ud328\uc2a4 + \uc2a4\ud06c\ub864 \uc774\ubca4\ud2b8"})}),"\n",(0,s.jsxs)(n.p,{children:["\uc2a4\ud06c\ub864 \uc704\uce58\uc5d0 \ub530\ub77c \uc694\uc18c\uc758 ",(0,s.jsx)(n.code,{children:"clip-path"}),"\ub97c \ubcc0\uacbd\ud574 ",(0,s.jsx)(n.strong,{children:"\uc6d0\ud615 \ub9c8\uc2a4\ud06c\uac00 \ucee4\uc9c0\uac70\ub098 \uc791\uc544\uc9c0\ub294 \ud6a8\uacfc"}),"\ub97c \uad6c\ud604\ud55c \uc139\uc158\uc785\ub2c8\ub2e4.",(0,s.jsx)(n.br,{}),"\n","\uc774 \ubc29\uc2dd\uc740 \ud398\uc774\uc9c0 \uc804\ud658\uc774\ub098 \uc5f0\ucd9c \ud6a8\uacfc\ub97c \ub9cc\ub4e4 \ub54c \uc720\uc6a9\ud558\uac8c \ud65c\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\uad6c\ud604-\ubaa9\uc801",children:"\uad6c\ud604 \ubaa9\uc801"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\ud2b9\uc815 \uc601\uc5ed(",(0,s.jsx)(n.code,{children:"Inner"}),")\uc744 \uc6d0\ud615\uc73c\ub85c \ub9c8\uc2a4\ud0b9"]}),"\n",(0,s.jsx)(n.li,{children:"\uc0ac\uc6a9\uc790\uac00 \uc2a4\ud06c\ub864\ud560\uc218\ub85d \uc6d0\ud615 \ub9c8\uc2a4\ud06c\uc758 \ubc18\uc9c0\ub984\uc774 \ucee4\uc9d0"}),"\n",(0,s.jsxs)(n.li,{children:["\uc77c\uc815 \uc2a4\ud06c\ub864 \uc774\uc0c1\uc5d0\uc11c ",(0,s.jsx)(n.code,{children:"Cover"})," \ucef4\ud3ec\ub10c\ud2b8\ub97c \uace0\uc815(fixed)\uc5d0\uc11c ",(0,s.jsx)(n.code,{children:"absolute"}),"\ub85c \ubc14\uafd4 \uc2a4\ub0c5 \ub290\ub08c \uc81c\uacf5"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\uc8fc\uc694-\uad6c\uc131-\uc694\uc18c",children:"\uc8fc\uc694 \uad6c\uc131 \uc694\uc18c"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Cover"}),": \ub9c8\uc2a4\ud06c \uc544\ub798\uc5d0 \uae54\ub9ac\ub294 \ucf58\ud150\uce20 (fixed/absolute \uc804\ud658)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Inner"}),": \ub9c8\uc2a4\ud06c \ud6a8\uacfc\uac00 \uc801\uc6a9\ub418\ub294 \ucf58\ud150\uce20"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"clip-path"}),": ",(0,s.jsx)(n.code,{children:"circle(radius at position)"})," \ud615\ud0dc\ub85c \ubcc0\uacbd"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"requestAnimationFrame"}),": \uc2a4\ud06c\ub864 \uc774\ubca4\ud2b8 \ucd5c\uc801\ud654"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"progress"})," : \uc2a4\ud06c\ub864 \uc9c4\ud589\ub3c4(progress)\uc5d0 \ub530\ub77c \ubc18\uc9c0\ub984\uc744 \uc120\ud615 \ubcf4\uac04"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"const progress = clamp((scrollY - sectionTop) / (sectionHeight- innerHeight), 0, 1)\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\uc804\uccb4-\ucf54\ub4dc",children:"\uc804\uccb4 \ucf54\ub4dc"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"import { useEffect, useRef } from \"react\"\nimport Cover from \"./Cover\"\nimport Inner from \"./Inner\"\n\nconst HeroSection = () => {\n  const sectionRef = useRef(null)\n  const coverRef = useRef(null)\n  const maskRef = useRef(null)\n  const animationFrame = useRef(null)\n\n  useEffect(() => {\n    const clamp = (val, min, max) => Math.max(min, Math.min(val, max))\n    const minRadius = 150\n    if(maskRef.current) {\n      maskRef.current.style.clipPath = `circle(${minRadius}px at right 10% top 50%)`\n    }\n\n    const onScroll = () => {\n      if (animationFrame.current) return\n\n      animationFrame.current = requestAnimationFrame(() => {\n        const section = sectionRef.current\n        const mask = maskRef.current\n        if (!section || !mask) return\n\n        const sectionTop = section.offsetTop\n        const sectionHeight = section.offsetHeight\n\n        const progress = clamp((scrollY - sectionTop) / (sectionHeight- innerHeight), 0, 1)\n\n        const maxRadius = innerWidth\n        const radius = minRadius + (maxRadius - minRadius) * progress\n\n        if(progress > 0.8) {\n          coverRef.current.style.position = 'absolute'\n          coverRef.current.style.marginTop = '-100vh'\n        } else {\n          coverRef.current.style.position = 'fixed'\n          coverRef.current.style.marginTop = 0\n        }\n\n        mask.style.clipPath = `circle(${radius}px at right 10% top 50%)`\n\n        animationFrame.current = null\n      })\n    }\n\n    window.addEventListener('scroll', onScroll)\n    return () => {\n      window.removeEventListener('scroll', onScroll)\n      cancelAnimationFrame(animationFrame.current)\n    }\n  }, [])\n\n  return (\n    <div className=\"relative\">\n      <section \n        ref={sectionRef} \n        className=\"w-full h-[240vh] relative top-0 bg-black text-white\"\n        >\n        <Cover ref={coverRef}/>\n        <Inner ref={maskRef}/>\n      </section>\n    </div>\n  )\n}\n\nexport default HeroSection\n"})})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>c,x:()=>o});var t=r(6540);const s={},i=t.createContext(s);function c(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);